int findCommon(int mat[M][N]) {
    int column[M];
    for (int i = 0; i < M; ++i)
        column[i] = N - 1;  // start at last column

    while (true) {
        int min_row = 0;
        // Find row with minimum current value
        for (int i = 1; i < M; ++i)
            if (mat[i][column[i]] < mat[min_row][column[min_row]])
                min_row = i;

        // Check if all current values match
        bool allSame = true;
        for (int i = 0; i < M; ++i) {
            if (mat[i][column[i]] != mat[min_row][column[min_row]]) {
                allSame = false;
                break;
            }
        }
        if (allSame)
            return mat[min_row][column[min_row]];

        // Move back in rows where value > minValue
        for (int i = 0; i < M; ++i) {
            if (mat[i][column[i]] > mat[min_row][column[min_row]]) {
                if (column[i] == 0) 
                    return -1;
                --column[i];
            }
        }
    }
}
